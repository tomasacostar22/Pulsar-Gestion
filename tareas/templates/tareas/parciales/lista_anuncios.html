{% if anuncios %}
  {% for anuncio in anuncios %}
  <div class="px-5 py-3 {% if not forloop.last %}border-b border-indigo-50{% endif %}">
    <div class="flex items-start justify-between gap-2">
      <h3 class="text-sm font-semibold text-indigo-900">{{ anuncio.titulo }}</h3>
      {% if anuncio.autor == request.user %}
      <button
        hx-post="{% url 'eliminar_anuncio' anuncio.id %}"
        hx-target="#lista-anuncios"
        hx-swap="innerHTML"
        hx-confirm="Estas seguro de eliminar este anuncio?"
        hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}'
        class="text-indigo-300 hover:text-red-500 transition cursor-pointer shrink-0"
        title="Eliminar anuncio"
      >
        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
      {% endif %}
    </div>
    <p class="text-sm text-indigo-800 mt-1">{{ anuncio.contenido }}</p>
    <div class="flex items-center gap-2 mt-1.5 text-xs text-indigo-400">
      <span class="font-medium">{{ anuncio.autor.first_name }} {{ anuncio.autor.last_name }}</span>
      <span>&middot;</span>
      <span>{{ anuncio.fecha_creacion}}</span>
    </div>
  </div>
  {% endfor %}
{% else %}
  <div class="px-5 py-8 text-center text-sm text-indigo-300">
    Sin anuncios aun.
  </div>
{% endif %}
