{% if tareas %}
<div class="text-xs text-indigo-400 mb-3">{{ tareas|length }} tarea{{ tareas|length|pluralize:"s" }}</div>
<div class="space-y-3">
  {% for tarea in tareas %}
  <div class="bg-white rounded-xl border border-indigo-100 shadow-sm p-5">
    <div class="flex items-center justify-between mb-1">
      <div class="flex items-center gap-3">
        <h3 class="font-semibold text-indigo-900">{{ tarea.nombre }}</h3>
        <span class="text-xs px-2 py-0.5 rounded-full font-medium
          {% if tarea.prioridad == 'ALTA' %}bg-red-100 text-red-700
          {% elif tarea.prioridad == 'MEDIA' %}bg-yellow-100 text-yellow-700
          {% else %}bg-green-100 text-green-700{% endif %}
        ">{{ tarea.get_prioridad_display }}</span>
        <span class="text-xs px-2 py-0.5 rounded-full font-medium
          {% if tarea.estado == 'FINALIZADA' %}bg-emerald-100 text-emerald-700
          {% elif tarea.estado == 'CANCELADA' %}bg-red-100 text-red-700
          {% else %}bg-yellow-100 text-yellow-700{% endif %}
        ">{{ tarea.get_estado_display }}</span>
      </div>
    </div>
    {% if tarea.descripcion %}
    <p class="text-sm text-indigo-500 mb-2">{{ tarea.descripcion }}</p>
    {% endif %}
    <div class="flex gap-4 text-xs text-indigo-400">
      <span>Responsable: {{ tarea.responsable.get_full_name|default:tarea.responsable.username }}</span>
      <span>Supervisor: {{ tarea.supervisor.get_full_name|default:tarea.supervisor.username }}</span>
      <span>Creada: {{ tarea.fecha_creacion|date:"d/m/Y" }}</span>
      <span>Limite: {{ tarea.fecha_limite|date:"d/m/Y" }}</span>
    </div>
  </div>
  {% endfor %}
</div>
{% else %}
<div class="text-center py-16 text-indigo-300">
  <p class="text-lg">No hay tareas con estos filtros.</p>
</div>
{% endif %}
