{% extends "usuarios/base.html" %}

{% block title %}Cambiar Contrasena{% endblock %}

{% block content %}
<div class="min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-100 to-white">
  <div class="w-full max-w-md bg-white rounded-2xl shadow-lg p-8">
    <a href="{% url 'principal' %}" class="inline-flex items-center text-sm text-indigo-400 hover:text-indigo-600 transition mb-6">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
      </svg>
      Volver
    </a>

    <h1 class="text-2xl font-bold text-center text-indigo-900 mb-2">Cambiar Contrasena</h1>
    <p class="text-center text-indigo-400 mb-8">Ingresa tu contrasena actual y la nueva</p>

    {% if exito %}
    <div class="bg-green-50 border border-green-300 text-green-700 rounded-lg px-4 py-3 mb-6 text-sm text-center">
      Contrasena actualizada correctamente.
    </div>
    {% endif %}

    {% if error %}
    <div class="bg-red-50 border border-red-300 text-red-700 rounded-lg px-4 py-3 mb-6 text-sm">
      {{ error }}
    </div>
    {% endif %}

    <form method="post">
      {% csrf_token %}
      <div class="mb-5">
        <label for="actual" class="block text-sm font-medium text-indigo-700 mb-1">Contrasena actual</label>
        <input
          type="password"
          id="actual"
          name="actual"
          required
          class="w-full px-4 py-2.5 border border-indigo-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:border-transparent transition"
          placeholder="********"
        />
      </div>
      <div class="mb-5">
        <label for="nueva" class="block text-sm font-medium text-indigo-700 mb-1">Nueva contrasena</label>
        <input
          type="password"
          id="nueva"
          name="nueva"
          required
          minlength="6"
          class="w-full px-4 py-2.5 border border-indigo-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:border-transparent transition"
          placeholder="********"
        />
      </div>
      <div class="mb-6">
        <label for="confirmar" class="block text-sm font-medium text-indigo-700 mb-1">Confirmar nueva contrasena</label>
        <input
          type="password"
          id="confirmar"
          name="confirmar"
          required
          minlength="6"
          class="w-full px-4 py-2.5 border border-indigo-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:border-transparent transition"
          placeholder="********"
        />
      </div>
      <button
        type="submit"
        class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2.5 rounded-lg transition cursor-pointer"
      >
        Cambiar Contrasena
      </button>
    </form>
  </div>
</div>
{% endblock %}
